!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["@adobe/aem-core-components-react-spa"]=e():t["@adobe/aem-core-components-react-spa"]=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function s(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=11)}([function(t,e){t.exports=require("react")},function(t,e){t.exports=require("@adobe/aem-react-editable-components")},function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return r}));var a=s(0);const n=(()=>{try{return"undefined"!=typeof window}catch(t){return!1}})(),i=(t,e)=>s=>{const n=s.baseCssClass,i=n&&n.trim().length>0?n:e,r={...s,baseCssClass:i};return a.createElement(t,Object.assign({},r))},r=t=>class extends a.Component{constructor(t){super(t),this.state={},n&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(this.messageChannel=new window.Granite.author.MessageChannel("cqauthor",window),this.callback=this.callback.bind(this))}callback(t){if(t.data&&t.data.id===this.props.cqPath&&"navigate"===t.data.operation){const e=t.data.index;this.setState({activeIndexFromAuthorPanel:e})}}componentDidMount(){this.messageChannel&&this.messageChannel.subscribeRequestMessage("cmp.panelcontainer",this.callback)}componentWillUnmount(){this.messageChannel&&this.messageChannel.unsubscribeRequestMessage("cmp.panelcontainer",this.callback)}render(){return a.createElement(t,Object.assign({},this.props,{activeIndexFromAuthorPanel:this.state.activeIndexFromAuthorPanel}))}}},function(t,e,s){"use strict";function a(t){return null==t.cqItemsOrder||0==t.cqItemsOrder.length}s.d(e,"a",(function(){return a}))},function(t,e,s){"use strict";function a(t){return null==t.cqItemsOrder||0===t.cqItemsOrder.length}s.d(e,"a",(function(){return a}))},function(t,e,s){"use strict";function a(t){return null==t.cqItemsOrder||0===t.cqItemsOrder.length}s.d(e,"a",(function(){return a}))},function(t,e,s){"use strict";s.r(e);var a=s(0),n=s.n(a),i=s(1),r=s(2),o=s(5);class c extends i.Container{constructor(t){super(t),this.state={activeIndex:t.activeItem&&t.activeItem.length>0?this.props.cqItemsOrder.indexOf(t.activeItem):0,componentMapping:this.props.componentMapping||i.ComponentMapping},this.handleTabNavClick=this.handleTabNavClick.bind(this)}componentDidUpdate(t,e,s){void 0!==this.props.activeIndexFromAuthorPanel&&t.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&this.setState({activeIndex:this.props.activeIndexFromAuthorPanel})}tabbedChildComponents(){return!0===this.props.isInEditor?n.a.createElement(n.a.Fragment,null,this.childComponents.map((t,e)=>{const s={display:this.state.activeIndex===e?"block":"none"};return n.a.createElement("div",{key:"tab-content-"+e,className:this.props.baseCssClass+"__author-tab-content",style:s},this.childComponents[e])})):this.childComponents[this.state.activeIndex]}handleTabNavClick(t){this.state.activeIndex!==t&&this.setState({activeIndex:t})}tabNavigation(){const t=[];return this.props.cqItems&&this.props.cqItemsOrder?n.a.createElement("ol",{role:"tablist",className:this.props.baseCssClass+"__tablist","aria-label":this.props.accessibilityLabel,"aria-multiselectable":"false"},this.props.cqItemsOrder.map((t,e)=>{const s=this.props.cqItems[t],a=e===this.state.activeIndex;return n.a.createElement("li",{role:"tab",key:"tab-"+e,onClick:()=>this.handleTabNavClick(e),className:this.props.baseCssClass+"__tab"+(a?" "+this.props.baseCssClass+"__tab--active":""),tabIndex:a?0:-1,"data-cmp-hook-tabs":"tab"},s["cq:panelTitle"])})):t}get tabContainerProps(){const t=this.containerProps;return t.className=t.className+" "+this.props.baseCssClass,t["data-cmp-is"]="tabs",t}render(){const t=Object(o.a)(this.props);return n.a.createElement("div",Object.assign({},this.tabContainerProps),!t&&this.tabNavigation(),!t&&this.tabbedChildComponents(),this.placeholderComponent)}}e.default=Object(r.b)(Object(r.a)(c),"cmp-tabs")},function(t,e,s){"use strict";s.r(e);var a=s(0),n=s(2),i=s(1),r=s(3);class o extends i.Container{constructor(t){super(t),this.state={componentMapping:this.props.componentMapping||i.ComponentMapping,expandedItems:this.props.expandedItems},this.handleAccordionNavClick=this.handleAccordionNavClick.bind(this)}componentDidUpdate(t,e){void 0!==this.props.activeIndexFromAuthorPanel&&t.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&this.setState({expandedItems:[this.props.cqItemsOrder[this.props.activeIndexFromAuthorPanel]]})}handleAccordionNavClick(t){const e=this.state.expandedItems.indexOf(t)>-1,s=this.props.singleExpansion;let a=this.state.expandedItems;if(s)a=e?[]:[t];else if(e){const e=this.state.expandedItems.indexOf(t);a.splice(e)}else a.push(t);this.setState({expandedItems:a})}isItemExpanded(t){return this.state.expandedItems.indexOf(t)>-1}get accordionContainerProps(){const t=this.containerProps;return t.className=t.className+" "+this.props.baseCssClass,t["data-cmp-is"]="accordion",t}displayItem(t,e){const s=this.props.cqItemsOrder.indexOf(t);if(!0===this.props.isInEditor||e){const t=e?`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--expanded`:`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--hidden`;return a.createElement("div",{className:t,role:"region"},this.childComponents[s])}return null}renderHeadingButton(t,e,s){return a.createElement("button",{className:s,onClick:()=>{this.handleAccordionNavClick(t)}},a.createElement("span",{className:this.props.baseCssClass+"__title"},e["cq:panelTitle"]),a.createElement("span",{className:this.props.baseCssClass+"__icon"}))}get accordionContent(){return this.props.cqItemsOrder.map((t,e)=>{const s=this.props.cqItems[t],n=this.isItemExpanded(t),i=n?`${this.props.baseCssClass}__button ${this.props.baseCssClass}__button--expanded`:this.props.baseCssClass+"__button";return a.createElement("div",{key:"accordion-index"+e,className:this.props.baseCssClass+"__item","data-cmp-index":e,"data-cmp-expanded":n},a.createElement(""+(this.props.headingElement||"h3"),{className:this.props.baseCssClass+"__header"},this.renderHeadingButton(t,s,i)),this.displayItem(t,n))})}render(){const t=Object(r.a)(this.props);return a.createElement("div",Object.assign({},this.accordionContainerProps),!t&&this.accordionContent,this.placeholderComponent)}}e.default=Object(n.b)(Object(n.a)(o),"cmp-accordion")},function(t,e,s){"use strict";s.r(e);var a=s(0),n=s.n(a),i=s(2),r=s(1),o=s(4);const c=(t,e)=>{let s=t;for(let t=0;t<e.length;t++){const a="{"+t+"}";s=s.replace(a,e[t])}return s};class l extends r.Container{constructor(t){super(t),this.interval=0,this.clearAutoPlay=()=>{window.clearInterval(this.interval)},this.state={activeIndex:0,isMouseEntered:!1,autoPlay:this.props.autoplay&&!this.props.isInEditor,componentMapping:this.props.componentMapping||r.ComponentMapping},this.handleIndicatorClick=this.handleIndicatorClick.bind(this),this.handleOnButtonPrev=this.handleOnButtonPrev.bind(this),this.handleOnButtonNext=this.handleOnButtonNext.bind(this),this.handleOnMouseEnter=this.handleOnMouseEnter.bind(this),this.handleOnMouseLeave=this.handleOnMouseLeave.bind(this)}componentDidUpdate(t,e,s){void 0!==this.props.activeIndexFromAuthorPanel&&t.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&(this.setState({activeIndex:this.props.activeIndexFromAuthorPanel}),this.toggleAutoPlay(!1))}componentDidMount(){this.autoPlay()}componentWillUnmount(){this.interval&&this.clearAutoPlay()}handleOnMouseEnter(){!this.props.autopauseDisabled&&this.props.autoplay&&this.clearAutoPlay()}handleOnMouseLeave(){!this.props.autopauseDisabled&&this.props.autoplay&&this.autoPlay()}handleOnButtonPrev(){this.prevSlide()}handleOnButtonNext(){this.nextSlide()}handleIndicatorClick(t){this.state.activeIndex!==t&&this.setState({activeIndex:t})}autoPlay(){this.interval=window.setInterval(()=>{this.autoPlayTick()},this.props.delay)}autoPlayTick(){!this.state.autoPlay||this.props.cqItemsOrder.length<=1||this.nextSlide()}toggleAutoPlay(t){this.setState({autoPlay:t})}nextSlide(){const t=this.__getActiveIndex();t===this.props.cqItemsOrder.length-1?this.__setSlide(0):this.__setSlide(t+1)}prevSlide(){const t=this.__getActiveIndex();0===t?this.__setSlide(this.props.cqItemsOrder.length-1):this.__setSlide(t-1)}__getActiveIndex(){return this.state.activeIndex}__setSlide(t){this.setState({activeIndex:t})}render(){const t=Object(o.a)(this.props);return n.a.createElement("div",{className:this.props.baseCssClass,role:"group","aria-label":this.props.accessibilityLabel,"aria-roledescription":"carousel"},!t&&this.renderCarousel(),this.placeholderComponent)}displayItem(t,e){const s=e===this.state.activeIndex,a=!(!s&&!this.props.isInEditor),i=s?`${this.props.baseCssClass}__item ${this.props.baseCssClass}__item--active`:this.props.baseCssClass+"__item",r=c(this.props.accessibility.slide,[(e+1).toString(),this.props.cqItemsOrder.length.toString()]);return n.a.createElement("div",{key:"item-"+e,className:i,role:"tabpanel","aria-label":r,"data-cmp-hook-carousel":"item"},a&&t)}renderCarousel(){return n.a.createElement("div",{className:this.props.baseCssClass+"__content",onMouseEnter:()=>this.handleOnMouseEnter(),onMouseLeave:()=>this.handleOnMouseLeave()},this.childComponents.map((t,e)=>this.displayItem(t,e)),this.renderCarouselActions(),this.renderCarouselIndicators())}renderCarouselIndicators(){return n.a.createElement("ol",{className:this.props.baseCssClass+"__indicators",role:"tablist","aria-label":this.props.accessibility.indicators},this.props.cqItemsOrder.map((t,e)=>{const s=this.props.cqItems[t],a=e===this.state.activeIndex?`${this.props.baseCssClass}__indicator ${this.props.baseCssClass}__indicator--active`:this.props.baseCssClass+"__indicator",i=c(this.props.accessibility.indicator,[(e+1).toString()]);return n.a.createElement("li",{key:"item-"+e,onClick:()=>this.handleIndicatorClick(e),className:a,role:"tab","aria-label":i},s["cq:panelTitle"])}))}renderCarouselActions(){return n.a.createElement("div",{className:this.props.baseCssClass+"__actions"},n.a.createElement("button",{onClick:()=>this.handleOnButtonPrev(),className:`${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--previous`,type:"button","aria-label":this.props.accessibility.previous},n.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),n.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.previous)),n.a.createElement("button",{onClick:()=>this.handleOnButtonNext(),className:`${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--next`,type:"button","aria-label":this.props.accessibility.next},n.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),n.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.next)),this.props.autoplay&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:`${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--pause `+(this.state.autoPlay?"":this.props.baseCssClass+"__action--disabled"),type:"button","aria-label":this.props.accessibility.pause,onClick:()=>this.toggleAutoPlay(!1)},n.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),n.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.pause)),n.a.createElement("button",{className:`${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--play `+(this.state.autoPlay?this.props.baseCssClass+"__action--disabled":""),type:"button","aria-label":this.props.accessibility.play,onClick:()=>this.toggleAutoPlay(!0)},n.a.createElement("span",{className:this.props.baseCssClass+"__action-icon"}),n.a.createElement("span",{className:this.props.baseCssClass+"__action-text"},this.props.accessibility.play))))}}l.defaultProps={_allowedComponentPlaceholderListEmptyLabel:"CarouselV1",isInEditor:!1,autoplay:!1,cqPath:"",cqItems:{},cqItemsOrder:[],accessibilityLabel:"Carousel",accessibility:{play:"Play",pause:"Pause",next:"Next",previous:"Previous",slide:"Slide {0} of {1}",indicator:"Slide %{0}",indicators:"Choose a slide to display"}},e.default=Object(i.b)(Object(i.a)(l),"cmp-carousel")},function(t,e,s){"use strict";s.r(e);var a=s(0),n=s.n(a),i=s(1),r=s(2);class o extends i.Container{constructor(t){super(t),this.state={componentMapping:this.props.componentMapping||i.ComponentMapping},this.mainDiv=n.a.createRef()}componentDidMount(){this.mainDiv.current&&this.mainDiv.current.setAttribute("style",this.props.backgroundStyle)}componentDidUpdate(){this.mainDiv.current&&this.mainDiv.current.setAttribute("style",this.props.backgroundStyle)}get coreContainerProps(){return{className:"container responsivegrid"}}render(){const{componentMapping:t,allowedComponents:e,children:s,cqPath:a,cqItems:r,cqItemsOrder:o,isInEditor:c,...l}=this.props,p={allowedComponents:this.props.allowedComponents,gridClassNames:this.props.gridClassNames,columnClassNames:this.props.columnClassNames,cqItems:this.props.cqItems,cqItemsOrder:this.props.cqItemsOrder,title:"",cqPath:this.props.cqPath,isInEditor:!1};return n.a.createElement("div",Object.assign({},this.coreContainerProps),n.a.createElement("div",{ref:this.mainDiv,id:this.props.id,className:this.props.baseCssClass},this.props.layout&&"simple"===this.props.layout&&n.a.createElement(i.Container,{componentMapping:this.state.componentMapping,cqForceReload:this.props.cqForceReload,cqPath:this.props.cqPath,cqItems:this.props.cqItems,cqItemsOrder:this.props.cqItemsOrder,isInEditor:!1},this.childComponents),(!this.props.layout||"simple"!==this.props.layout)&&n.a.createElement(i.ResponsiveGrid,Object.assign({},p))))}}e.default=Object(r.b)(o,"cmp-container")},function(t,e,s){"use strict";s.r(e),s.d(e,"AccordionV1IsEmptyFn",(function(){return a.a})),s.d(e,"ContainerV1IsEmptyFn",(function(){return n})),s.d(e,"CarouselV1IsEmptyFn",(function(){return i.a})),s.d(e,"TabsV1IsEmptyFn",(function(){return r.a}));var a=s(3);function n(t){return null==t.cqItemsOrder||0===t.cqItemsOrder.length}var i=s(4),r=s(5)},function(t,e,s){t.exports=s(12)},function(t,e,s){"use strict";s.r(e);var a=s(2);s.d(e,"withStandardBaseCssClass",(function(){return a.b})),s.d(e,"withAuthorPanelSwitch",(function(){return a.a}));var n=s(10);s.d(e,"AccordionV1IsEmptyFn",(function(){return n.AccordionV1IsEmptyFn})),s.d(e,"ContainerV1IsEmptyFn",(function(){return n.ContainerV1IsEmptyFn})),s.d(e,"CarouselV1IsEmptyFn",(function(){return n.CarouselV1IsEmptyFn})),s.d(e,"TabsV1IsEmptyFn",(function(){return n.TabsV1IsEmptyFn}));var i=s(6);s.d(e,"TabsV1",(function(){return i.default}));var r=s(7);s.d(e,"AccordionV1",(function(){return r.default}));var o=s(8);s.d(e,"CarouselV1",(function(){return o.default}));var c=s(9);s.d(e,"ContainerV1",(function(){return c.default}))}])}));
//# sourceMappingURL=index.js.map